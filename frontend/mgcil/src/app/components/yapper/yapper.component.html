<div class="yapper d-flex flex-column p-2 h-100">
  <h1 class="text-center">yapping board</h1>

  @if (currentButtons === null) {
    <div class="d-flex justify-content-center align-items-center flex-grow-1">
      <span class="me-2">Loading sounds womp womp...</span>
      <div class="spinner-grow" role="status">
      </div>
    </div>
  }
  @else {
    <div class="d-flex">
      <div class="col my-3 pb-2">
        <form class="d-flex align-items-center" (ngSubmit)="onSubmit()">
          <label for="search" class="form-label m-0">Search:</label>
          <input
            type="search"
            class="form-control w-25 mx-2"
            id="search"
            name="search"
            maxlength="30"
            [(ngModel)]="searchTerm"
            (ngModelChange)="onSearchChange($event)"
          >
        </form>
      </div>
      <div class="col my-3 pb-2 text-end">
        <button class="btn btn-primary" (click)="stopSound()">
          stop sound 
          <i class="bi bi-pause-fill"></i>
        </button>
      </div>
    </div>

    @if (currentButtons.length > 0) {
      <div class="yapper__button-grid p-1">
        @for (button of currentButtons; track button.name; let index = $index) {
          <app-sound-button
            [name]="button.name"
            [sound]="button.sound"
            [color]="button.color"
            (buttonClicked)="playSound(index)"
          ></app-sound-button>
        }
      </div>
    }
    @else {
      <span class="text-center my-3">No sounds found womp womp ðŸ˜”</span>
    }

    <form class="d-flex justify-content-center align-items-center my-3 pb-2" (ngSubmit)="onSubmit()">
      <label for="suggestion" class="form-label m-0">Suggestion?</label>
      <input
        type="text"
        class="form-control w-50 mx-2"
        id="suggestion"
        name="suggestion"
        maxlength="1000"
        [(ngModel)]="suggestion"
      >
      <button type="submit" class="btn btn-primary">Submit</button>
    </form>
  }
</div>
